{"version":3,"sources":["containers/Base64ImageEncoder/services.ts","containers/Base64ImageEncoder/styled.ts","containers/Base64ImageEncoder/index.tsx","components/FeatureTitle/index.tsx","components/CopyButton/index.tsx","components/Spinner/Spinner.tsx"],"names":["MAX_FILE_SIZE_BYTES","imageResizer","marginTop","display","alignItems","justifyContent","border","useStyles","makeStyles","theme","root","margin","spacing","flexGrow","header","padding","dropzone","flex","cursor","flexDirection","image","width","toolbar","marginLeft","Base64ImageEncoder","title","classes","useState","encodedFiles","setEncodedFiles","errors","setErrors","onDrop","useCallback","acceptedFiles","rejectedFiles","map","rejection","name","file","size","error","prettyBytes","forEach","Promise","resolve","reject","reader","FileReader","base","addEventListener","e","encoded","result","readAsDataURL","loadFile","then","encFile","list","catch","useDropzone","accept","maxSize","multiple","getRootProps","getInputProps","processing","length","Helmet","className","FeatureTitle","iconType","PanoramaIcon","Spinner","active","Card","Typography","variant","errFile","idx","color","Box","style","defaultSize","height","src","alt","CardContent","gutterBottom","align","component","TextField","label","fullWidth","value","multiline","rows","Toolbar","CopyButton","data","wordBreak","titleWithIcon","titleContainer","icon","marginRight","props","FeatureIcon","setToasterState","useToasterUpdate","endIcon","onClick","feedback","substr","message","copy","format","open","type","autoHideDuration","disabled","background","classNamePrefix","spinner","children"],"mappings":"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","file":"static/js/25.9eaf7c04.chunk.js","sourcesContent":["import { FileRejection } from 'react-dropzone';\nimport prettyBytes from 'pretty-bytes';\n\nexport interface EncodedFile {\n    name: string;\n    size: number;\n    encoded: string;\n}\n\nexport interface ErrorFile {\n    name: string;\n    size: number;\n    error: string;\n}\n\nexport const MAX_FILE_SIZE_BYTES = 250000;\n\nexport function loadFile(file: File): Promise<EncodedFile> {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        const base = {\n            name: file.name,\n            size: file.size,\n        }\n\n        reader.addEventListener('abort', e => reject(`File upload aborted: ${e}`));\n        reader.addEventListener('error', e => reject(`File upload error: ${e}`));\n        reader.addEventListener('load', () => resolve({\n            ...base,\n            encoded: reader.result as string\n        }), false);\n\n        reader.readAsDataURL(file);\n    });\n}\n\nexport function rejectFiles(fileRejections: FileRejection[]): ErrorFile[] {\n    return fileRejections.map(rejection => ({\n        name: rejection.file.name,\n        size: rejection.file.size,\n        error: `Exceeds size limit: ${prettyBytes(MAX_FILE_SIZE_BYTES)}`\n    }));\n}\n","import { makeStyles } from \"@material-ui/core\";\n\nexport const imageResizer = {\n    marginTop: 10,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    border: 'solid 1px blue'\n};\n\nexport const useStyles = makeStyles(theme => ({\n    root: {\n        margin: theme.spacing(1),\n        flexGrow: 1,\n    },\n    header: {\n        padding: '20px 0'\n    },\n    dropzone: {\n        flex: '1',\n        cursor: 'pointer',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: '20px',\n    },\n    image: {\n        width: '100%',\n    },\n    toolbar: {\n        margin: 0,\n        padding: 0,\n        '& > *': {\n            marginLeft: theme.spacing(1),\n        },\n    },\n}));\n","import React, { useCallback, useState } from 'react';\nimport { FileRejection, useDropzone } from 'react-dropzone';\n\nimport { Box, Card, CardContent, TextField, Toolbar, Typography } from '@material-ui/core';\nimport PanoramaIcon from '@material-ui/icons/Panorama';\nimport prettyBytes from 'pretty-bytes';\nimport { Resizable } from 're-resizable';\n\nimport CopyButton from '../../components/CopyButton';\nimport FeatureTitle from '../../components/FeatureTitle';\nimport { Spinner } from '../../components/Spinner/Spinner';\nimport { EncodedFile, ErrorFile, loadFile, MAX_FILE_SIZE_BYTES, rejectFiles } from './services';\nimport { imageResizer, useStyles } from './styled';\nimport { Helmet } from 'react-helmet';\n\nconst Base64ImageEncoder: React.FC = () => {\n    const title = 'Base64 image encoder';\n    const classes = useStyles();\n    const [encodedFiles, setEncodedFiles] = useState<EncodedFile[]>([]);\n    const [errors, setErrors] = useState<ErrorFile[]>([]);\n\n    const onDrop = useCallback((acceptedFiles: File[], rejectedFiles: FileRejection[]) => {\n        setErrors(rejectFiles(rejectedFiles)); // set/reset errors\n        setEncodedFiles([]); // reset UI\n\n        acceptedFiles.forEach((file: File) =>\n            loadFile(file)\n                .then((encFile) => setEncodedFiles((list) => [...list, encFile]))\n                .catch((error) =>\n                    setErrors((list) => [\n                        ...list,\n                        {\n                            name: file.name,\n                            size: file.size,\n                            error,\n                        },\n                    ])\n                )\n        );\n    }, []);\n\n    const { acceptedFiles, getRootProps, getInputProps } = useDropzone({\n        accept: ['image/jpeg', 'image/png', 'image/gif', 'image/*'],\n        maxSize: MAX_FILE_SIZE_BYTES,\n        multiple: true,\n        onDrop,\n    });\n\n    const processing = acceptedFiles.length !== encodedFiles.length;\n\n    return (\n        <>\n            <Helmet title={title} />\n            <div className={classes.root}>\n                <FeatureTitle iconType={PanoramaIcon} title={title} />\n\n                <Spinner active={processing}>\n                    <Card {...getRootProps({ className: classes.dropzone })}>\n                        <input {...getInputProps()} />\n                        <Typography variant='body1'>Drag 'n' drop some files here</Typography>\n                        <Typography variant='body1'>or just click to select files</Typography>\n                    </Card>\n                </Spinner>\n                <div>\n                    {errors &&\n                        errors.map((errFile: ErrorFile, idx: number) => {\n                            const size = prettyBytes(errFile.size);\n                            return (\n                                <div key={idx}>\n                                    <Typography variant='body1'>\n                                        <strong>{errFile.name}</strong> ({size} bytes): {errFile.error}\n                                    </Typography>\n                                </div>\n                            );\n                        })}\n                </div>\n                <div>\n                    {processing && (\n                        <Typography color='secondary' variant='h5'>\n                            Processing {acceptedFiles.length - encodedFiles.length} file(s)\n                        </Typography>\n                    )}\n                </div>\n\n                {encodedFiles.map((file: EncodedFile, idx: number) => (\n                    <div key={idx}>\n                        <Card>\n                            <Box display='flex' alignItems='center' justifyContent='center'>\n                                <Resizable style={imageResizer} defaultSize={{ width: 300, height: '100%' }}>\n                                    <img src={file.encoded} alt={file.name} className={classes.image} />\n                                </Resizable>\n                            </Box>\n                            <CardContent>\n                                <Typography gutterBottom align='center' variant='h5' component='h2'>\n                                    <b>{file.name}</b> ({file.size} bytes)\n                                </Typography>\n                                <TextField\n                                    label='Full img tag'\n                                    fullWidth\n                                    value={`<img alt=\"${file.name}\" src=\"${file.encoded}\"/>`}\n                                    margin='normal'\n                                    variant='outlined'\n                                />\n                                <TextField\n                                    label=\"Base64 encoded. Copy-paste into 'src' attribute\"\n                                    fullWidth\n                                    value={file.encoded}\n                                    margin='normal'\n                                    variant='outlined'\n                                    multiline\n                                    rows='8'\n                                />\n                                <Toolbar className={classes.toolbar}>\n                                    <Box display='flex' flexGrow={1}></Box>\n                                    <CopyButton data={file.encoded} />\n                                </Toolbar>\n                            </CardContent>\n                        </Card>\n                    </div>\n                ))}\n            </div>\n        </>\n    );\n};\n\nexport default Base64ImageEncoder;\n","import { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React from 'react';\n\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        wordBreak: 'break-word',\n    },\n    titleWithIcon: {\n        display: 'flex',\n        alignItems: 'center',\n    },\n    titleContainer: {\n        display: 'flex',\n        justifyContent: 'center',\n    },\n    icon: {\n        height: '40px',\n        width: '40px',\n        marginRight: theme.spacing(1),\n    },\n}));\n\ninterface Props {\n    title: string;\n    iconType: any;\n}\n\nconst FeatureTitle: React.FC<Props> = (props: Props) => {\n    const classes = useStyles();\n    const FeatureIcon = props.iconType;\n\n    return (\n        <div className={classes.titleContainer}>\n            <div className={classes.titleWithIcon}>\n                <FeatureIcon className={classes.icon} />\n                <Typography variant=\"h5\" className={classes.title}>\n                    {props.title}\n                </Typography>\n            </div>\n        </div>\n    );\n}\n\nexport default FeatureTitle;\n","import React from 'react';\nimport AssignmentTurnedIn from '@material-ui/icons/AssignmentTurnedIn';\nimport { Button } from '@material-ui/core';\n\nimport * as copy from 'copy-to-clipboard';\nimport { useToasterUpdate } from '../Toaster/ToasterProvider';\n\ninterface Props {\n    data?: string;\n}\n\nconst CopyButton: React.FC<Props> = (props: Props) => {\n    const { data } = props;\n    const { setToasterState } = useToasterUpdate();\n\n    const handleCopy = () => {\n        if (!data) {\n            return;\n        }\n\n        const feedback = data.substr(0, 20);\n        const message = `Content copied into clipboard: ${feedback} …`;\n\n        copy.default(data, { format: 'text/plain' });\n        setToasterState({ open: true, message, type: 'success', autoHideDuration: 2000 });\n    }\n\n    return (\n        <Button endIcon={<AssignmentTurnedIn>Copy</AssignmentTurnedIn>}\n            onClick={handleCopy} disabled={!data}\n            variant=\"contained\" color=\"primary\">Copy</Button>\n    );\n}\n\nexport default CopyButton;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport LoadingOverlay from 'react-loading-overlay';\nimport ScaleLoader from 'react-spinners/ScaleLoader';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .spinner_overlay': {\n            background: 'rgba(0, 0, 0, 0.3)',\n        },\n    },\n}));\n\ninterface Props {\n    active: boolean;\n    children: any;\n}\n\nexport const Spinner: React.FC<Props> = (props: Props) => {\n    const classes = useStyles();\n\n    return (\n        <LoadingOverlay classNamePrefix='spinner_' className={classes.root}\n            active={props.active} spinner={<ScaleLoader color=\"#bf3a2b\" />}>\n            {props.children}\n        </LoadingOverlay>\n    );\n}\n"],"sourceRoot":""}