(this["webpackJsonpweb-toolbox"]=this["webpackJsonpweb-toolbox"]||[]).push([[13],{1037:function(e,t,n){"use strict";n.r(t),function(e){var r=n(43),a=n(2),i=n(0),o=n.n(i),s=n(265),c=n(1032),u=n(1060),l=n(1041),f=n(440),d=n(420),p=n(324),g=n(64),h=n(421),m=n(1029),b=n(1038),v=n(250),y=n(531),x=n(376),A=n.n(x),O=n(122),j=n.n(O),w=n(375),S=n.n(w),E=n(412),P=n(278),C=n(785),k=n(95),I=n(811),D=n(370),L=n(282),R=n(94),B={workerId:"",jobId:"",status:"",progress:0};t.default=Object(s.a)()((function(t){var n="Image OCR (text extraction)",i=Object(I.b)(),x=Object(k.c)().setToasterState,O=o.a.useState("eng"),w=Object(r.a)(O,2),T=w[0],F=w[1],M=o.a.useState(B),U=Object(r.a)(M,2),N=U[0],G=U[1],W=o.a.useState(""),Q=Object(r.a)(W,2),z=Q[0],H=Q[1],V=o.a.useState(""),_=Object(r.a)(V,2),q=_[0],J=_[1];function Y(e){G(e),J("Processing the image\n\t \u2192 ".concat(e.status,"\u2026"))}function K(e){var t=e.clipboardData||e.originalEvent.clipboardData||e.originalEvent.clipboard;C.a(t.items,(function(e){return H(e.target.result)}))}return o.a.useEffect((function(){return document.onpaste=K,function(){document.removeEventListener("onpaste",K)}}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(R.a,{title:n}),Object(a.jsxs)("div",{className:i.root,children:[Object(a.jsx)(P.a,{iconType:j.a,title:n}),Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",className:i.form,children:Object(a.jsxs)(c.a,{className:i.formControl,children:[Object(a.jsx)(u.a,{shrink:!0,id:"languageLabel",children:"Image language"}),Object(a.jsxs)(l.a,{labelId:"languageLabel",id:"language",value:T,autoFocus:Object(s.c)("md",t.width),onChange:function(e){return F(e.target.value)},children:[Object(a.jsx)(f.a,{value:"eng",children:"English"}),Object(a.jsx)(f.a,{value:"fra",children:"French"})]})]})}),Object(a.jsxs)(d.a,{children:[Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",justifyContent:"center",className:i.imageSelector,children:[!z&&Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{children:"paste image from clipboard"}),Object(a.jsx)(g.a,{children:"or select a file"}),Object(a.jsx)("input",{type:"file",color:"primary",accept:"image/*",onChange:function(e){return function(e){var t=new FileReader;t.onload=function(e){return H(e.target.result)},t.readAsDataURL(e)}(e.target.files[0])},id:"icon-button-file",style:{display:"none"}}),Object(a.jsx)("label",{htmlFor:"icon-button-file",children:Object(a.jsx)(y.a,{variant:"contained",component:"span",color:"primary",children:Object(a.jsx)(S.a,{})})})]}),z&&Object(a.jsx)(E.a,{style:I.a,defaultSize:{width:300,height:"100%"},children:Object(a.jsx)("img",{src:z,alt:"Clipboard content",className:i.image})})]}),z&&Object(a.jsx)(p.a,{display:"flex",alignItems:"center",justifyContent:"center",children:Object(a.jsx)(y.a,{endIcon:Object(a.jsx)(A.a,{}),variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),G(B),H(""),J("")},children:"Clear"})}),Object(a.jsxs)(h.a,{children:[Object(a.jsx)(D.a,{active:q.startsWith("Processing"),children:Object(a.jsx)(m.a,{label:"Extracted text",fullWidth:!0,value:q,margin:"normal",variant:"outlined",multiline:!0,rows:"8"})}),Object(a.jsx)(b.a,{variant:"determinate",value:100*N.progress}),Object(a.jsxs)(v.a,{className:i.toolbar,children:[Object(a.jsx)(p.a,{display:"flex",flexGrow:1}),Object(a.jsx)(L.a,{data:q}),Object(a.jsx)(y.a,{variant:"contained",color:"primary",onClick:function(t){if(t.preventDefault(),z){J("Processing the image, please wait\u2026");var n=e.from(z.split(",")[1],"base64");C.b(T,n,Y,J).then()}else x({open:!0,message:"There is no image to process",type:"error",autoHideDuration:2e3})},disabled:!z,endIcon:Object(a.jsx)(j.a,{}),children:"Run"})]})]})]})]})]})}))}.call(this,n(299).Buffer)},1038:function(e,t,n){"use strict";var r=n(1),a=n(5),i=n(0),o=(n(4),n(6)),s=n(13),c=n(8),u=n(30),l=n(37),f=i.forwardRef((function(e,t){var n=e.classes,c=e.className,u=e.color,f=void 0===u?"primary":u,d=e.value,p=e.valueBuffer,g=e.variant,h=void 0===g?"indeterminate":g,m=Object(a.a)(e,["classes","className","color","value","valueBuffer","variant"]),b=Object(l.a)(),v={},y={bar1:{},bar2:{}};if("determinate"===h||"buffer"===h)if(void 0!==d){v["aria-valuenow"]=Math.round(d),v["aria-valuemin"]=0,v["aria-valuemax"]=100;var x=d-100;"rtl"===b.direction&&(x=-x),y.bar1.transform="translateX(".concat(x,"%)")}else 0;if("buffer"===h)if(void 0!==p){var A=(p||0)-100;"rtl"===b.direction&&(A=-A),y.bar2.transform="translateX(".concat(A,"%)")}else 0;return i.createElement("div",Object(r.a)({className:Object(o.a)(n.root,n["color".concat(Object(s.a)(f))],c,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[h]),role:"progressbar"},v,{ref:t},m),"buffer"===h?i.createElement("div",{className:Object(o.a)(n.dashed,n["dashedColor".concat(Object(s.a)(f))])}):null,i.createElement("div",{className:Object(o.a)(n.bar,n["barColor".concat(Object(s.a)(f))],("indeterminate"===h||"query"===h)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[h]),style:y.bar1}),"determinate"===h?null:i.createElement("div",{className:Object(o.a)(n.bar,("indeterminate"===h||"query"===h)&&n.bar2Indeterminate,"buffer"===h?[n["color".concat(Object(s.a)(f))],n.bar2Buffer]:n["barColor".concat(Object(s.a)(f))]),style:y.bar2}))}));t.a=Object(c.a)((function(e){var t=function(t){return"light"===e.palette.type?Object(u.e)(t,.62):Object(u.a)(t,.5)},n=t(e.palette.primary.main),r=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:r},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(f)},278:function(e,t,n){"use strict";var r=n(2),a=n(64),i=n(246),o=(n(0),Object(i.a)((function(e){return{title:{wordBreak:"break-word"},titleWithIcon:{display:"flex",alignItems:"center"},titleContainer:{display:"flex",justifyContent:"center"},icon:{height:"40px",width:"40px",marginRight:e.spacing(1)}}})));t.a=function(e){var t=o(),n=e.iconType;return Object(r.jsx)("div",{className:t.titleContainer,children:Object(r.jsxs)("div",{className:t.titleWithIcon,children:[Object(r.jsx)(n,{className:t.icon}),Object(r.jsx)(a.a,{variant:"h5",className:t.title,children:e.title})]})})}},282:function(e,t,n){"use strict";var r=n(2),a=(n(0),n(292)),i=n.n(a),o=n(531),s=n(291),c=n.n(s),u=n(95);t.a=function(e){var t=e.data,n=Object(u.c)().setToasterState;return Object(r.jsx)(o.a,{endIcon:Object(r.jsx)(i.a,{children:"Copy"}),onClick:function(){if(t){var e=t.substr(0,20),r="Content copied into clipboard: ".concat(e," \u2026");c.a(t,{format:"text/plain"}),n({open:!0,message:r,type:"success",autoHideDuration:2e3})}},disabled:!t,variant:"contained",color:"primary",children:"Copy"})}},283:function(e,t,n){var r=n(361),a=n(362),i=n(328),o=n(363);e.exports=function(e){return r(e)||a(e)||i(e)||o()}},300:function(e,t,n){var r;!function(a){"use strict";function i(e,t,n){var r,a=document.createElement("img");function o(t,o){o&&console.log(o),t&&i.isInstanceOf("Blob",t)?(e=t,r=i.createObjectURL(e)):(r=e,n&&n.crossOrigin&&(a.crossOrigin=n.crossOrigin)),a.src=r}return a.onerror=function(o){return i.onerror(a,o,e,r,t,n)},a.onload=function(o){return i.onload(a,o,e,r,t,n)},"string"===typeof e?(i.hasMetaOption(n)?i.fetchBlob(e,o,n):o(),a):i.isInstanceOf("Blob",e)||i.isInstanceOf("File",e)?(r=i.createObjectURL(e))?(a.src=r,a):i.readFile(e,(function(e){var n=e.target;n&&n.result?a.src=n.result:t&&t(e)})):void 0}var o=a.createObjectURL&&a||a.URL&&URL.revokeObjectURL&&URL||a.webkitURL&&webkitURL;function s(e,t){!e||"blob:"!==e.slice(0,5)||t&&t.noRevoke||i.revokeObjectURL(e)}i.hasMetaOption=function(e){return e&&e.meta},i.fetchBlob=function(e,t){t()},i.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},i.transform=function(e,t,n,r,a){n(e,a)},i.onerror=function(e,t,n,r,a,i){s(r,i),a&&a.call(e,t)},i.onload=function(e,t,n,r,a,o){s(r,o),a&&i.transform(e,o,a,n,{originalWidth:e.naturalWidth||e.width,originalHeight:e.naturalHeight||e.height})},i.createObjectURL=function(e){return!!o&&o.createObjectURL(e)},i.revokeObjectURL=function(e){return!!o&&o.revokeObjectURL(e)},i.readFile=function(e,t,n){if(a.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof window&&window||this)},310:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return a}))},328:function(e,t,n){var r=n(329);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},329:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},331:function(e,t,n){var r=n(371);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},332:function(e,t){function n(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,c,"next",e)}function c(e){n(o,a,i,s,c,"throw",e)}s(void 0)}))}}},343:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300)],void 0===(i="function"===typeof(r=function(e){var t="undefined"!==typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[],65517:[]}},e.parseMetaData=function(t,n,r,a){a=a||{};var i=this,o=(r=r||{}).maxMetaDataSize||262144;!!("undefined"!==typeof DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice)&&e.readFile(e.blobSlice.call(t,0,o),(function(t){if(t.target.error)return console.log(t.target.error),void n(a);var o,s,c,u,l=t.target.result,f=new DataView(l),d=2,p=f.byteLength-4,g=d;if(65496===f.getUint16(0)){for(;d<p&&((o=f.getUint16(d))>=65504&&o<=65519||65534===o);){if(d+(s=f.getUint16(d+2)+2)>f.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if((c=e.metaDataParsers.jpeg[o])&&!r.disableMetaDataParsers)for(u=0;u<c.length;u+=1)c[u].call(i,f,d,s,a,r);g=d+=s}!r.disableImageHead&&g>6&&(l.slice?a.imageHead=l.slice(0,g):a.imageHead=new Uint8Array(l).subarray(0,g))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(a)}),"readAsArrayBuffer")||n(a)},e.replaceHead=function(t,n,r){e.parseMetaData(t,(function(a){r(new Blob([n,e.blobSlice.call(t,a.imageHead.byteLength)],{type:"image/jpeg"}))}),{maxMetaDataSize:256,disableMetaDataParsers:!0})};var n=e.transform;e.transform=function(t,r,a,i,o){e.hasMetaOption(r)?e.parseMetaData(i,(function(o){n.call(e,t,r,a,i,o)}),r,o):n.apply(e,arguments)}})?r.apply(t,a):r)||(e.exports=i)}()},361:function(e,t,n){var r=n(329);e.exports=function(e){if(Array.isArray(e))return r(e)}},362:function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},363:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},370:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),a=(n(0),n(246)),i=n(107),o=n.n(i),s=n(108),c=n.n(s),u=Object(a.a)((function(e){return{root:{"& .spinner_overlay":{background:"rgba(0, 0, 0, 0.3)"}}}})),l=function(e){var t=u();return Object(r.jsx)(o.a,{classNamePrefix:"spinner_",className:t.root,active:e.active,spinner:Object(r.jsx)(c.a,{color:"#bf3a2b"}),children:e.children})}},371:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},372:function(e,t){e.exports=function(e,t){return"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))}},373:function(e,t){var n=this,r=!1;t.logging=r,t.setLogging=function(e){r=e},t.log=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return r?console.log.apply(n,t):null}},374:function(e,t,n){var r,a;void 0===(a="function"===typeof(r=function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var n=document.getElementsByTagName("head")[0];n.insertBefore(t,n.firstChild);for(var r,a=document.createElement("a"),i=1;i<e;i++)a.href=arguments[i],r=a.href,t.href=r;return n.removeChild(t),r}return e})?r.call(t,n,t,e):r)||(e.exports=a)},375:function(e,t,n){"use strict";var r=n(15),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(0)),o=(0,r(n(18)).default)(i.createElement(i.Fragment,null,i.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),i.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"PhotoCamera");t.default=o},376:function(e,t,n){"use strict";var r=n(15),a=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(0)),o=(0,r(n(18)).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},440:function(e,t,n){"use strict";var r=n(5),a=n(21),i=n(1),o=n(0),s=(n(4),n(6)),c=n(8),u=n(253),l=o.forwardRef((function(e,t){var n,a=e.classes,c=e.className,l=e.component,f=void 0===l?"li":l,d=e.disableGutters,p=void 0!==d&&d,g=e.ListItemClasses,h=e.role,m=void 0===h?"menuitem":h,b=e.selected,v=e.tabIndex,y=Object(r.a)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==v?v:-1),o.createElement(u.a,Object(i.a)({button:!0,role:m,tabIndex:n,component:f,selected:b,disableGutters:p,classes:Object(i.a)({dense:a.dense},g),className:Object(s.a)(a.root,c,b&&a.selected,!p&&a.gutters),ref:t},y))}));t.a=Object(c.a)((function(e){return{root:Object(i.a)({},e.typography.body1,Object(a.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(i.a)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(l)},442:function(e,t,n){var r=n(372),a=0;e.exports=function(e){var t=e.id,n=e.action,i=e.payload,o=void 0===i?{}:i,s=t;return"undefined"===typeof s&&(s=r("Job",a),a+=1),{id:s,action:n,payload:o}}},443:function(e,t,n){var r=n(19),a=n(332),i=n(331),o=n(788),s=n(790),c=n(793),u=n(442),l=n(373).log,f=n(372),d=n(794).defaultOEM,p=n(795),g=p.defaultOptions,h=p.spawnWorker,m=p.terminateWorker,b=p.onMessage,v=p.loadImage,y=p.send,x=0;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f("Worker",x),n=s(i(i({},g),e)),p=n.logger,A=n.errorHandler,O=o(n,["logger","errorHandler"]),j={},w={},S=h(O);x+=1;var E=function(e,t){j[e]=t},P=function(e,t){w[e]=t},C=function(e){var n=e.id,r=e.action,a=e.payload;return new Promise((function(e,i){l("[".concat(t,"]: Start ").concat(n,", action=").concat(r)),E(r,e),P(r,i),y(S,{workerId:t,jobId:n,action:r,payload:a})}))},k=function(e){return C(u({id:e,action:"load",payload:{options:O}}))},I=function(e,t,n){return C(u({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}}))},D=function(e,t){return C(u({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}}))},L=function(e,t){return C(u({id:t,action:"FS",payload:{method:"unlink",args:[e]}}))},R=function(e,t,n){return C(u({id:n,action:"FS",payload:{method:e,args:t}}))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0;return C(u({id:t,action:"loadLanguage",payload:{langs:e,options:O}}))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=arguments.length>2?arguments[2]:void 0;return C(u({id:n,action:"initialize",payload:{langs:e,oem:t}}))},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return C(u({id:t,action:"setParameters",payload:{params:e}}))},M=function(){var e=a(r.mark((function e(t){var n,a,i=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},a=i.length>2?i[2]:void 0,e.t0=C,e.t1=u,e.t2=a,e.next=7,v(t);case 7:return e.t3=e.sent,e.t4=n,e.t5={image:e.t3,options:e.t4},e.t6={id:e.t2,action:"recognize",payload:e.t5},e.t7=(0,e.t1)(e.t6),e.abrupt("return",(0,e.t0)(e.t7));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Tesseract OCR Result",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return C(u({id:n,action:"getPDF",payload:{title:e,textonly:t}}))},N=function(){var e=a(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.t1=u,e.t2=n,e.next=5,v(t);case 5:return e.t3=e.sent,e.t4={image:e.t3},e.t5={id:e.t2,action:"detect",payload:e.t4},e.t6=(0,e.t1)(e.t5),e.abrupt("return",(0,e.t0)(e.t6));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==S&&(m(S),S=null),e.abrupt("return",Promise.resolve());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return b(S,(function(e){var t=e.workerId,n=e.jobId,r=e.status,a=e.action,o=e.data;if("resolve"===r){l("[".concat(t,"]: Complete ").concat(n));var s=o;"recognize"===a?s=c(o):"getPDF"===a&&(s=Array.from(i(i({},o),{},{length:Object.keys(o).length}))),j[a]({jobId:n,data:s})}else if("reject"===r){if(w[a](o),!A)throw Error(o);A(o)}else"progress"===r&&p(o)})),{id:t,worker:S,setResolve:E,setReject:P,load:k,writeText:I,readText:D,removeFile:L,FS:R,loadLanguage:B,initialize:T,setParameters:F,recognize:M,getPDF:U,detect:N,terminate:G}}},444:function(e,t){e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},445:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300)],void 0===(i="function"===typeof(r=function(e){var t=e.transform;e.transform=function(n,r,a,i,o){t.call(e,e.scale(n,r,o),r,a,i,o)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var n,r,a,i,o=t.aspectRatio;if(!o)return t;for(r in n={},t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.crop=!0,(a=e.naturalWidth||e.width)/(i=e.naturalHeight||e.height)>o?(n.maxWidth=i*o,n.maxHeight=i):(n.maxWidth=a,n.maxHeight=a/o),n},e.renderImageToCanvas=function(e,t,n,r,a,i,o,s,c,u,l){var f=e.getContext("2d");return!1===l.imageSmoothingEnabled?f.imageSmoothingEnabled=!1:l.imageSmoothingQuality&&(f.imageSmoothingQuality=l.imageSmoothingQuality),f.drawImage(t,n,r,a,i,o,s,c,u),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,n,r){n=n||{};var a,i,o,s,c,u,l,f,d,p,g,h=document.createElement("canvas"),m=t.getContext||e.hasCanvasOption(n)&&h.getContext,b=t.naturalWidth||t.width,v=t.naturalHeight||t.height,y=b,x=v;function A(){var e=Math.max((o||y)/y,(s||x)/x);e>1&&(y*=e,x*=e)}function O(){var e=Math.min((a||y)/y,(i||x)/x);e<1&&(y*=e,x*=e)}if(m&&(l=(n=e.getTransformedOptions(t,n,r)).left||0,f=n.top||0,n.sourceWidth?(c=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(l=b-c-n.right)):c=b-l-(n.right||0),n.sourceHeight?(u=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(f=v-u-n.bottom)):u=v-f-(n.bottom||0),y=c,x=u),a=n.maxWidth,i=n.maxHeight,o=n.minWidth,s=n.minHeight,m&&a&&i&&n.crop?(y=a,x=i,(g=c/u-a/i)<0?(u=i*c/a,void 0===n.top&&void 0===n.bottom&&(f=(v-u)/2)):g>0&&(c=a*u/i,void 0===n.left&&void 0===n.right&&(l=(b-c)/2))):((n.contain||n.cover)&&(o=a=a||o,s=i=i||s),n.cover?(O(),A()):(A(),O())),m){if((d=n.pixelRatio)>1&&(h.style.width=y+"px",h.style.height=x+"px",y*=d,x*=d,h.getContext("2d").scale(d,d)),(p=n.downsamplingRatio)>0&&p<1&&y<c&&x<u)for(;c*p>y;)h.width=c*p,h.height=u*p,e.renderImageToCanvas(h,t,l,f,c,u,0,0,h.width,h.height,n),l=0,f=0,c=h.width,u=h.height,(t=document.createElement("canvas")).width=c,t.height=u,e.renderImageToCanvas(t,h,0,0,c,u,0,0,c,u,n);return h.width=y,h.height=x,e.transformCoordinates(h,n),e.renderImageToCanvas(h,t,l,f,c,u,0,0,y,x,n)}return t.width=y,t.height=x,t}})?r.apply(t,a):r)||(e.exports=i)}()},446:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300),n(343)],void 0===(i="function"===typeof(r=function(e){function t(e){e&&(Object.defineProperty(this,"map",{value:this.privateIFDs[e].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[e]||{}}))}function n(e,t,n){if(n&&!(t+n>e.byteLength))return new Blob([e.buffer.slice(t,t+n)],{type:"image/jpeg"});console.log("Invalid Exif data: Invalid thumbnail data.")}t.prototype.map={Orientation:274,Thumbnail:513,Exif:34665,GPSInfo:34853,Interoperability:40965},t.prototype.privateIFDs={34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},t.prototype.get=function(e){return this[e]||this[this.map[e]]};var r={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}};function a(e,t,n,a,i,o){var s,c,u,l,f,d,p=r[a];if(p){if(!((c=(s=p.size*i)>4?t+e.getUint32(n+8,o):n+8)+s>e.byteLength)){if(1===i)return p.getValue(e,c,o);for(u=[],l=0;l<i;l+=1)u[l]=p.getValue(e,c+l*p.size,o);if(p.ascii){for(f="",l=0;l<u.length&&"\0"!==(d=u[l]);l+=1)f+=d;return f}return u}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")}function i(e,t,n,r,i,o,s,c){var u,l,f,d,p,g;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((l=n+2+12*(u=e.getUint16(n,r)))+4>e.byteLength)){for(f=0;f<u;f+=1)d=n+2+12*f,p=e.getUint16(d,r),s&&!s[p]||c&&!0===c[p]||(g=a(e,t,d,e.getUint16(d+2,r),e.getUint32(d+4,r),r),i[p]=g,o&&(o[p]=d));return e.getUint32(l,r)}console.log("Invalid Exif data: Invalid directory size.")}}function o(e,n,r,a,o,s,c){var u=e.exif[n];u&&(e.exif[n]=new t(n),e.exifOffsets&&(e.exifOffsets[n]=new t(n)),i(r,a,a+u,o,e.exif[n],e.exifOffsets&&e.exifOffsets[n],s&&s[n],c&&c[n]))}r[7]=r[1],e.parseExifData=function(e,r,a,s,c){if(!c.disableExif){var u,l,f=c.includeExifTags,d=c.excludeExifTags||{34665:{37500:!0}},p=r+10;if(1165519206===e.getUint32(r+4))if(p+8>e.byteLength)console.log("Invalid Exif data: Invalid segment size.");else if(0===e.getUint16(r+8)){switch(e.getUint16(p)){case 18761:u=!0;break;case 19789:u=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}42===e.getUint16(p+2,u)?(l=e.getUint32(p+4,u),s.exif=new t,c.disableExifOffsets||(s.exifOffsets=new t,s.exifTiffOffset=p,s.exifLittleEndian=u),(l=i(e,p,p+l,u,s.exif,s.exifOffsets,f,d))&&!c.disableExifThumbnail&&(l=i(e,p,p+l,u,s.exif,s.exifOffsets,f,d),s.exif[513]&&s.exif[514]&&(s.exif[513]=n(e,p+s.exif[513],s.exif[514]))),Object.keys(s.exif.privateIFDs).forEach((function(t){o(s,t,e,p,u,f,d)}))):console.log("Invalid Exif data: Missing TIFF marker.")}else console.log("Invalid Exif data: Missing byte alignment offset.")}},e.metaDataParsers.jpeg[65505].push(e.parseExifData),e.exifWriters={274:function(e,t,n){return new DataView(e,t.exifOffsets[274]+8,2).setUint16(0,n,t.exifLittleEndian),e}},e.writeExifData=function(t,n,r,a){e.exifWriters[n.exif.map[r]](t,n,a)},e.ExifMap=t})?r.apply(t,a):r)||(e.exports=i)}()},447:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300),n(343)],void 0===(i="function"===typeof(r=function(e){function t(){}function n(e,t,n){for(var r="",a=t+n,i=t;i<a;i+=1)r+=String.fromCharCode(e.getUint8(i));return r}function r(e,t,r,a,i){return"binary"===t.types[e]?new Blob([r.buffer.slice(a,a+i)]):"Uint16"===t.types[e]?r.getUint16(a):n(r,a,i)}function a(e,t){return void 0===e?t:e instanceof Array?(e.push(t),e):[e,t]}function i(e,t,n,i,o,s){for(var c,u,l,f=t+n,d=t;d<f;)28===e.getUint8(d)&&2===e.getUint8(d+1)&&(l=e.getUint8(d+2),o&&!o[l]||s&&s[l]||(u=e.getInt16(d+3),c=r(l,i.iptc,e,d+5,u),i.iptc[l]=a(i.iptc[l],c),i.iptcOffsets&&(i.iptcOffsets[l]=d))),d+=1}function o(e,t){return 943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}function s(e,t){var n=e.getUint8(t+7);return n%2!==0&&(n+=1),0===n&&(n=4),n}t.prototype.map={ObjectName:5},t.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},t.prototype.get=function(e){return this[e]||this[this.map[e]]},e.parseIptcData=function(e,n,r,a,c){if(!c.disableIptc)for(var u=n+r;n+8<u;){if(o(e,n)){var l=s(e,n),f=n+8+l;if(f>u){console.log("Invalid IPTC data: Invalid segment offset.");break}var d=e.getUint16(n+6+l);if(n+d>u){console.log("Invalid IPTC data: Invalid segment size.");break}return a.iptc=new t,c.disableIptcOffsets||(a.iptcOffsets=new t),void i(e,f,d,a,c.includeIptcTags,c.excludeIptcTags||{202:!0})}n+=1}},e.metaDataParsers.jpeg[65517].push(e.parseIptcData),e.IptcMap=t})?r.apply(t,a):r)||(e.exports=i)}()},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n(19),a=n.n(r),i=n(310),o=n(786);function s(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r.type.startsWith("image")){var a=new FileReader;a.onload=t,a.readAsDataURL(r.getAsFile());break}}}function c(e,t,n,r){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(a.a.mark((function e(t,n,r,i){var s,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(o.createWorker)({logger:r}),e.next=3,s.load();case 3:return e.next=5,s.loadLanguage(t);case 5:return e.next=7,s.initialize(t);case 7:return e.next=9,s.recognize(n);case 9:return c=e.sent,i(c.data.text),e.next=13,s.terminate();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},786:function(e,t,n){var r=n(331);n(164);var a=n(787),i=n(443),o=n(809),s=n(444),c=n(810),u=n(373).setLogging;e.exports=r({OEM:s,PSM:c,createScheduler:a,createWorker:i,setLogging:u},o)},787:function(e,t,n){var r=n(19),a=n(283),i=n(332),o=this,s=n(442),c=n(373).log,u=n(372),l=0;e.exports=function(){var e=u("Scheduler",l),t={},n={},f=[];l+=1;var d=function(){return Object.keys(t).length},p=function(){if(0!==f.length)for(var e=Object.keys(t),r=0;r<e.length;r+=1)if("undefined"===typeof n[e[r]]){f[0](t[e[r]]);break}},g=function(t,u){return new Promise((function(l,d){var g=s({action:t,payload:u});f.push(function(){var e=i(r.mark((function e(i){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.shift(),n[i.id]=g,e.prev=2,e.t0=l,e.next=6,i[t].apply(o,[].concat(a(u),[g.id]));case 6:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 10:e.prev=10,e.t2=e.catch(2),d(e.t2);case 13:return e.prev=13,delete n[i.id],p(),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[2,10,13,17]])})));return function(t){return e.apply(this,arguments)}}()),c("[".concat(e,"]: Add ").concat(g.id," to JobQueue")),c("[".concat(e,"]: JobQueue length=").concat(f.length)),p()}))};return{addWorker:function(n){return t[n.id]=n,c("[".concat(e,"]: Add ").concat(n.id)),c("[".concat(e,"]: Number of workers=").concat(d())),p(),n.id},addJob:function(){var t=i(r.mark((function t(n){var a,i,o,s=arguments;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==d()){t.next=2;break}throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));case 2:for(a=s.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=s[o];return t.abrupt("return",g(n,i));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),terminate:function(){var e=i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.keys(t).forEach(function(){var e=i(r.mark((function e(n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[n].terminate();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=[];case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getQueueLen:function(){return f.length},getNumWorkers:d}}},788:function(e,t,n){var r=n(789);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},789:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},790:function(e,t,n){var r=n(331),a="browser"===n(791)("type")?n(374):function(e){return e};e.exports=function(e){var t=r({},e);return["corePath","workerPath","langPath"].forEach((function(n){"undefined"!==typeof e[n]&&(t[n]=a(t[n]))})),t}},791:function(e,t,n){(function(t){var r=n(792);e.exports=function(e){var n={};return"undefined"!==typeof WorkerGlobalScope?n.type="webworker":"object"===typeof window?n.type="browser":r()?n.type="electron":"object"===typeof t&&(n.type="node"),"undefined"===typeof e?n:n[e]}}).call(this,n(83))},792:function(e,t,n){(function(t){e.exports=function(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof t||"object"!==typeof t.versions||!t.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,n(83))},793:function(e,t,n){var r=n(331);e.exports=function(e){var t=[],n=[],a=[],i=[],o=[];return e.blocks.forEach((function(s){s.paragraphs.forEach((function(t){t.lines.forEach((function(n){n.words.forEach((function(a){a.symbols.forEach((function(i){o.push(r(r({},i),{},{page:e,block:s,paragraph:t,line:n,word:a}))})),i.push(r(r({},a),{},{page:e,block:s,paragraph:t,line:n}))})),a.push(r(r({},n),{},{page:e,block:s,paragraph:t}))})),n.push(r(r({},t),{},{page:e,block:s}))})),t.push(r(r({},s),{},{page:e}))})),r(r({},e),{},{blocks:t,paragraphs:n,lines:a,words:i,symbols:o})}},794:function(e,t,n){var r=n(444);e.exports={defaultOEM:r.DEFAULT}},795:function(e,t,n){var r=n(796),a=n(799),i=n(800),o=n(801),s=n(802),c=n(803);e.exports={defaultOptions:r,spawnWorker:a,terminateWorker:i,onMessage:o,send:s,loadImage:c}},796:function(e,t,n){(function(t){var r=n(331),a=n(374),i=n(797),o=i.version,s=i.dependencies,c=n(798);e.exports=r(r({},c),{},{workerPath:"undefined"!==typeof t&&"development"===Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION:"1.4.3",REACT_APP_NAME:"web-toolbox"}).TESS_ENV?a("/dist/worker.dev.js?nocache=".concat(Math.random().toString(36).slice(3))):"https://unpkg.com/tesseract.js@v".concat(o,"/dist/worker.min.js"),corePath:"https://unpkg.com/tesseract.js-core@v".concat(s["tesseract.js-core"].substring(1),"/tesseract-core.").concat("object"===typeof WebAssembly?"wasm":"asm",".js")})}).call(this,n(83))},797:function(e){e.exports=JSON.parse('{"name":"tesseract.js","version":"2.1.4","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.7.7","@babel/preset-env":"^7.7.7","acorn":"^6.4.0","babel-loader":"^8.1.0","cors":"^2.8.5","eslint":"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^8.1.3","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^2.7.1","wait-on":"^3.3.0","webpack":"^4.44.2","webpack-bundle-analyzer":"^3.6.0","webpack-cli":"^3.3.12","webpack-dev-middleware":"^3.7.2"},"dependencies":{"blueimp-load-image":"^3.0.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","jpeg-autorotate":"^7.1.1","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^2.2.0","zlibjs":"^0.3.1"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')},798:function(e,t){e.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:function(){}}},799:function(e,t){e.exports=function(e){var t,n=e.workerPath,r=e.workerBlobURL;if(Blob&&URL&&r){var a=new Blob(['importScripts("'.concat(n,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(a))}else t=new Worker(n);return t}},800:function(e,t){e.exports=function(e){e.terminate()}},801:function(e,t){e.exports=function(e,t){e.onmessage=function(e){var n=e.data;t(n)}}},802:function(e,t,n){var r=n(19),a=n(332);e.exports=function(){var e=a(r.mark((function e(t,n){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.postMessage(n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},803:function(e,t,n){var r=n(19),a=n(332),i=n(374),o=n(804),s=function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(e){var t=e.target.error.code;n(Error("File could not be read! Code=".concat(t)))},r.readAsArrayBuffer(e)}))},c=function(e){return new Promise((function(t){o(e,(function(e){return e.toBlob(t)}),{orientation:!0,canvas:!0})}))},u=function(){var e=a(r.mark((function e(t){var n,o,l,f;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"undefined"!==typeof t){e.next=3;break}return e.abrupt("return","undefined");case 3:if("string"!==typeof t){e.next=24;break}if(!t.endsWith(".pbm")){e.next=13;break}return e.next=7,fetch(i(t));case 7:return o=e.sent,e.next=10,o.arrayBuffer();case 10:n=e.sent,e.next=22;break;case 13:return l=t,/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(t)||(l=i(t)),e.t0=s,e.next=18,c(l);case 18:return e.t1=e.sent,e.next=21,(0,e.t0)(e.t1);case 21:n=e.sent;case 22:e.next=47;break;case 24:if(!(t instanceof HTMLElement)){e.next=38;break}if("IMG"!==t.tagName){e.next=29;break}return e.next=28,u(t.src);case 28:n=e.sent;case 29:if("VIDEO"!==t.tagName){e.next=33;break}return e.next=32,u(t.poster);case 32:n=e.sent;case 33:if("CANVAS"!==t.tagName){e.next=36;break}return e.next=36,new Promise((function(e){t.toBlob(function(){var t=a(r.mark((function t(a){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(a);case 2:n=t.sent,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));case 36:e.next=47;break;case 38:if(!(t instanceof File||t instanceof Blob)){e.next=47;break}if(f=t,t.name.endsWith(".pbm")){e.next=44;break}return e.next=43,c(f);case 43:f=e.sent;case 44:return e.next=46,s(f);case 46:n=e.sent;case 47:return e.abrupt("return",new Uint8Array(n));case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.exports=u},804:function(e,t,n){e.exports=n(300),n(445),n(343),n(805),n(446),n(806),n(447),n(807),n(808)},805:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300)],void 0===(i="function"===typeof(r=function(e){"undefined"!==typeof fetch&&"undefined"!==typeof Request?e.fetchBlob=function(e,t,n){fetch(new Request(e,n)).then((function(e){return e.blob()})).then(t).catch((function(e){t(null,e)}))}:"undefined"!==typeof XMLHttpRequest&&"undefined"!==typeof ProgressEvent&&(e.fetchBlob=function(e,t,n){n=n||{};var r=new XMLHttpRequest;r.open(n.method||"GET",e),n.headers&&Object.keys(n.headers).forEach((function(e){r.setRequestHeader(e,n.headers[e])})),r.withCredentials="include"===n.credentials,r.responseType="blob",r.onload=function(){t(r.response)},r.onerror=r.onabort=r.ontimeout=function(e){t(null,e)},r.send(n.body)})})?r.apply(t,a):r)||(e.exports=i)}()},806:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300),n(446)],void 0===(i="function"===typeof(r=function(e){var t=e.ExifMap.prototype;t.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},t.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},t.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},t.getAll=function(){var e,t,n,r={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&((t=this[e])&&t.getAll?r[this.privateIFDs[e].name]=t.getAll():(n=this.tags[e])&&(r[n]=this.getText(n)));return r},t.getName=function(e){var t=this.tags[e];return"object"===typeof t?this.privateIFDs[e].name:t},function(){var e,n,r,a=t.tags;for(e in a)if(Object.prototype.hasOwnProperty.call(a,e))if(n=t.privateIFDs[e])for(e in r=a[e])Object.prototype.hasOwnProperty.call(r,e)&&(n.map[r[e]]=Number(e));else t.map[a[e]]=Number(e)}()})?r.apply(t,a):r)||(e.exports=i)}()},807:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300),n(447)],void 0===(i="function"===typeof(r=function(e){var t=e.IptcMap.prototype;t.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},t.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},t.getText=function(e){var t=this.get(e),n=this.map[e],r=this.stringValues[n];return r?r[t]:String(t)},t.getAll=function(){var e,t,n={};for(e in this)Object.prototype.hasOwnProperty.call(this,e)&&(t=this.tags[e])&&(n[t]=this.getText(t));return n},t.getName=function(e){return this.tags[e]},function(){var e,n=t.tags,r=t.map||{};for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[n[e]]=Number(e))}()})?r.apply(t,a):r)||(e.exports=i)}()},808:function(e,t,n){var r,a,i;!function(o){"use strict";a=[n(300),n(445),n(343)],void 0===(i="function"===typeof(r=function(e){var t=e.hasCanvasOption,n=e.hasMetaOption,r=e.transformCoordinates,a=e.getTransformedOptions;(function(){var t="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==",n=document.createElement("img");n.onload=function(){e.orientation=1===n.width&&2===n.height},n.src=t})(),e.hasCanvasOption=function(n){return!0===!!n.orientation&&!e.orientation||n.orientation>1&&n.orientation<9||t.call(e,n)},e.hasMetaOption=function(t){return t&&!0===t.orientation&&!e.orientation||n.call(e,t)},e.transformCoordinates=function(t,n){r.call(e,t,n);var a=t.getContext("2d"),i=t.width,o=t.height,s=t.style.width,c=t.style.height,u=n.orientation;if(u>1&&u<9)switch(u>4&&(t.width=o,t.height=i,t.style.width=c,t.style.height=s),u){case 2:a.translate(i,0),a.scale(-1,1);break;case 3:a.translate(i,o),a.rotate(Math.PI);break;case 4:a.translate(0,o),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-o);break;case 7:a.rotate(.5*Math.PI),a.translate(i,-o),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-i,0)}},e.getTransformedOptions=function(t,n,r){var i,o,s=a.call(e,t,n),c=s.orientation;if(!0===c){if(e.orientation)return s;c=r&&r.exif&&r.exif.get("Orientation")}if(!(c>1&&c<9))return s;for(o in i={},s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o]);switch(i.orientation=c,c){case 2:i.left=s.right,i.right=s.left;break;case 3:i.left=s.right,i.top=s.bottom,i.right=s.left,i.bottom=s.top;break;case 4:i.top=s.bottom,i.bottom=s.top;break;case 5:i.left=s.top,i.top=s.left,i.right=s.bottom,i.bottom=s.right;break;case 6:i.left=s.top,i.top=s.right,i.right=s.bottom,i.bottom=s.left;break;case 7:i.left=s.bottom,i.top=s.right,i.right=s.top,i.bottom=s.left;break;case 8:i.left=s.bottom,i.top=s.left,i.right=s.top,i.bottom=s.right}return i.orientation>4&&(i.maxWidth=s.maxHeight,i.maxHeight=s.maxWidth,i.minWidth=s.minHeight,i.minHeight=s.minWidth,i.sourceWidth=s.sourceHeight,i.sourceHeight=s.sourceWidth),i}})?r.apply(t,a):r)||(e.exports=i)}()},809:function(e,t,n){var r=n(19),a=n(332),i=n(443),o=function(){var e=a(r.mark((function e(t,n,o){var s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=i(o),e.next=3,s.load();case 3:return e.next=5,s.loadLanguage(n);case 5:return e.next=7,s.initialize(n);case 7:return e.abrupt("return",s.recognize(t).finally(a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.terminate();case 2:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),s=function(){var e=a(r.mark((function e(t,n){var o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i(n),e.next=3,o.load();case 3:return e.next=5,o.loadLanguage("osd");case 5:return e.next=7,o.initialize("osd");case 7:return e.abrupt("return",o.detect(t).finally(a(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.terminate();case 2:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e.exports={recognize:o,detect:s}},810:function(e,t){e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12"}},811:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(246),a={marginTop:10,display:"flex",alignItems:"center",justifyContent:"center",border:"solid 1px blue"},i=Object(r.a)((function(e){return{root:{margin:e.spacing(1)},form:{marginTop:e.spacing(2)},formControl:{margin:e.spacing(1),minWidth:120},image:{width:"100%"},imageSelector:{margin:e.spacing(2),textAlign:"center"},toolbar:{margin:0,padding:0,"& > *":{marginLeft:e.spacing(1)}},formatted:{padding:e.spacing(1),border:"1px solid grey",wordWrap:"break-word",height:116}}}))}}]);
//# sourceMappingURL=13.1dfe5683.chunk.js.map